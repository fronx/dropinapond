{
  "version": "1.0",
  "description": "Maps each metric to the specific data elements from the ego graph that contribute to its computation. Used to explain 'what went into' each displayed metric value.",
  "metrics": {
    "readability": {
      "display_name": "Readability (per neighbor)",
      "formula": "R² from ridge regression: z_j → z_F",
      "ego_ops_location": "lines 318-334",
      "data_dependencies": {
        "self_phrases": {
          "description": "Your semantic field (phrases and their weights)",
          "json_path": "self.phrases",
          "role": "Target vector being reconstructed (z_F)"
        },
        "neighbor_phrases": {
          "description": "This neighbor's semantic field",
          "json_path": "connections[j].phrases",
          "role": "Predictor vector (z_j) - what they know"
        }
      },
      "interpretation": "Measures how well this one neighbor could predict what you care about, based on what they know. High R² means strong semantic overlap between their interests and yours."
    },
    "overlap": {
      "display_name": "Network Overlap",
      "formula": "Jaccard index: |N(F) ∩ N(j)| / |N(F) ∪ N(j)|",
      "ego_ops_location": "lines 247-255",
      "data_dependencies": {
        "focal_edges": {
          "description": "Who you're connected to",
          "json_path": "edges[where source=F or target=F]",
          "role": "Your neighbor set N(F)"
        },
        "neighbor_edges": {
          "description": "Who this person is connected to",
          "json_path": "edges[where source=j or target=j]",
          "role": "Their neighbor set N(j)"
        }
      },
      "interpretation": "What fraction of your combined networks are shared? Low overlap means they give you access to new people (structural holes). High overlap means redundant connections (same crowd)."
    },
    "orientation_score": {
      "display_name": "Orientation Score",
      "formula": "λ₁·(1-overlap) + λ₂·R²_in + λ₃·R²_out + λ₄·cos(q_k, z_j) - λ₅·instability",
      "ego_ops_location": "lines 429-478",
      "data_dependencies": {
        "overlap": {
          "description": "Network overlap (see 'overlap' metric)",
          "json_path": "computed from edges",
          "role": "Term 1: Network exploration value (1 - overlap)"
        },
        "readability": {
          "description": "How well this neighbor understands you",
          "json_path": "computed from self.phrases + connections[j].phrases",
          "role": "Term 2: They 'get' you (R²_in)"
        },
        "cluster_attunement": {
          "description": "How well you understand their cluster",
          "json_path": "computed from self.phrases + cluster[k].phrases",
          "role": "Term 3: You 'get' their group (R²_out)"
        },
        "translation_vector": {
          "description": "Semantic shift from your cluster to theirs",
          "json_path": "computed from cluster centroids",
          "role": "Term 4: Topical relevance after translation"
        },
        "neighbor_phrases_for_cosine": {
          "description": "This neighbor's semantic field",
          "json_path": "connections[j].phrases",
          "role": "Term 4: Target for cosine similarity"
        }
      },
      "interpretation": "Composite score combining: (1) access to new people, (2) mutual understanding, (3) semantic relevance, (4) stability. Higher = better next interaction."
    },
    "public_legibility": {
      "display_name": "Public Legibility (overall or per-cluster)",
      "formula": "R² from ridge regression: Σ_j α_j·z_j → z_F",
      "ego_ops_location": "lines 300-316",
      "data_dependencies": {
        "self_phrases": {
          "description": "Your semantic field",
          "json_path": "self.phrases",
          "role": "Target being reconstructed"
        },
        "all_neighbor_phrases": {
          "description": "All neighbors' (or cluster's) semantic fields",
          "json_path": "connections[*].phrases (or subset for cluster)",
          "role": "Predictor matrix Z - collective knowledge"
        }
      },
      "interpretation": "How well can your network (or a cluster) collectively predict what you're interested in? High R² means your interests are well-represented in this group."
    },
    "subjective_attunement": {
      "display_name": "Subjective Attunement (per cluster)",
      "formula": "R² from ridge regression: β_j·z_F → z_j for all j in cluster",
      "ego_ops_location": "lines 340-363",
      "data_dependencies": {
        "self_phrases": {
          "description": "Your semantic field",
          "json_path": "self.phrases",
          "role": "Predictor (what you know)"
        },
        "cluster_phrases": {
          "description": "All people in this cluster's semantic fields",
          "json_path": "connections[k in cluster].phrases",
          "role": "Target matrix - what they care about"
        }
      },
      "interpretation": "How well can you predict what this cluster cares about, based on what you know? High R² means you understand their world."
    },
    "heat_residual_novelty": {
      "display_name": "Heat-Residual Novelty (per cluster)",
      "formula": "||z_F - (e^(-tL)·Z)_F|| where L is graph Laplacian",
      "ego_ops_location": "lines 369-401",
      "data_dependencies": {
        "self_phrases": {
          "description": "Your semantic field",
          "json_path": "self.phrases",
          "role": "Starting point (z_F)"
        },
        "cluster_phrases": {
          "description": "Cluster members' semantic fields",
          "json_path": "connections[k in cluster].phrases",
          "role": "Semantic neighbors for diffusion"
        },
        "edges_within_pocket": {
          "description": "Edge weights connecting you to cluster",
          "json_path": "edges[involving cluster members]",
          "role": "Graph structure for Laplacian (connectivity)"
        }
      },
      "interpretation": "Topological distance after heat diffusion. High values mean this cluster operates in semantically distant territory - you'll learn something new."
    },
    "attention_entropy": {
      "display_name": "Attention Entropy",
      "formula": "H = -Σ_k p_k·log₂(p_k) where p_k = tie_weight_to_cluster_k / total",
      "ego_ops_location": "lines 279-294",
      "data_dependencies": {
        "edges_from_focal": {
          "description": "All edges from you to neighbors",
          "json_path": "edges[where source=F]",
          "role": "Edge weights (actual connection strength)"
        },
        "clusters": {
          "description": "Cluster assignments for neighbors",
          "json_path": "computed from analysis",
          "role": "Grouping for attention distribution"
        }
      },
      "interpretation": "How evenly is your attention spread? High entropy = broad exploration. Low entropy = focused on one group."
    }
  }
}
